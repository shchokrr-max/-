<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ìˆ˜í•™ ë¬¸ì œ í’€ì´ ì•±</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 450px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .language-selector {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 14px;
            position: relative;
        }

        .language-selector:hover {
            background: #e9ecef;
            transform: translateY(-1px);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
        }

        .user-avatar:hover {
            transform: scale(1.1);
        }

        .user-avatar.active {
            transform: scale(1.05);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }

        .title {
            text-align: center;
            margin-bottom: 15px;
        }

        .title h1 {
            font-size: 24px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .subtitle {
            color: #666;
            font-size: 14px;
        }

        .usage-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .usage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .usage-text {
            font-size: 14px;
            font-weight: 600;
            color: #495057;
        }

        .premium-link {
            color: #667eea;
            font-size: 12px;
            text-decoration: none;
            font-weight: 500;
        }

        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .main-content {
            flex: 1;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 30px 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            text-align: center;
        }

        .upload-area {
            border: 2px dashed #667eea;
            border-radius: 16px;
            padding: 40px 20px;
            margin-bottom: 30px;
            background: rgba(102, 126, 234, 0.05);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .upload-area:hover {
            border-color: #764ba2;
            background: rgba(118, 75, 162, 0.1);
            transform: translateY(-2px);
        }

        .upload-icon {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.7;
        }

        .upload-text {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .upload-subtext {
            color: #999;
            font-size: 12px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-camera {
            background: linear-gradient(45deg, #FF6B6B, #FF8E8E);
            color: white;
        }

        .btn-gallery {
            background: linear-gradient(45deg, #4ECDC4, #44A08D);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .btn:active {
            transform: translateY(0);
        }

        .test-button-container {
            margin-top: 25px;
            padding: 20px;
            background: linear-gradient(45deg, #9C27B0, #673AB7);
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(156, 39, 176, 0.3);
        }

        .btn-test {
            background: rgba(255,255,255,0.2);
            color: white;
            width: 100%;
            border: 2px solid white;
            font-weight: bold;
            font-size: 16px;
            padding: 18px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-test:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .test-description {
            text-align: center;
            color: white;
            font-size: 12px;
            margin-top: 10px;
            opacity: 0.9;
        }

        .btn-solve {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 18px 40px;
            border-radius: 15px;
            border: none;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px auto;
            display: block;
        }

        .btn-solve:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .btn-solve:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .preview-area {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            display: none;
            text-align: center;
        }

        .preview-area.show {
            display: block !important;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .preview-image {
            max-width: 100%;
            max-height: 200px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .result-area {
            display: none;
            text-align: left;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .result-title {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .solution-step {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
        }

        .step-title {
            font-weight: bold;
            color: #495057;
            margin-bottom: 8px;
        }

        .step-content {
            color: #666;
            line-height: 1.6;
        }

        .action-buttons {
            display: none;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }

        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-1px);
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transform: translateX(100%);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(0);
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            display: none;
        }

        .language-option {
            padding: 10px 15px;
            cursor: pointer;
            transition: background 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .language-option:hover {
            background: #f8f9fa;
        }

        .login-dropdown {
            position: fixed;
            top: 60px;
            right: 10px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            min-width: 300px;
            max-height: 600px;
            z-index: 999999;
            display: none;
            padding: 0;
            border: 2px solid #667eea;
            overflow-y: auto;
        }

        .login-option {
            padding: 18px 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 14px;
            color: #333;
            text-decoration: none;
            border-bottom: 1px solid #f1f3f4;
            font-size: 15px;
            min-height: 60px;
            font-weight: 500;
        }

        .login-option:hover {
            background: #f8f9fa;
            transform: translateX(3px);
        }

        .login-option:last-child {
            border-bottom: none;
        }

        .login-option.guest {
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            border-bottom: 2px solid #dee2e6;
            padding: 20px;
            min-height: 70px;
        }

        .login-option.logout {
            border-top: 2px solid #dee2e6;
            color: #dc3545;
            margin-top: 0;
            padding: 18px 20px;
            min-height: 60px;
        }

        .login-option.logout:hover {
            background: #fff5f5;
        }

        .login-option span:first-child {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .header, .main-content {
                padding: 20px 15px;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .btn {
                padding: 18px;
            }
        }

        .pricing-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .pricing-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 400px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .pricing-title {
            text-align: center;
            color: #667eea;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: bold;
        }

        .pricing-option {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pricing-option:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .pricing-option.recommended {
            border-color: #667eea;
            background: linear-gradient(45deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
        }

        .pricing-name {
            font-weight: bold;
            font-size: 18px;
            color: #333;
            margin-bottom: 5px;
        }

        .pricing-price {
            color: #667eea;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .pricing-features {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
        }

        .close-modal {
            background: #6c757d;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            display: block;
            margin: 20px auto 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="top-bar">
                <div class="language-selector" onclick="toggleLanguageDropdown()">
                    <span id="current-language">ğŸ‡°ğŸ‡· í•œêµ­ì–´</span>
                    <span style="margin-left: 5px;">â–¼</span>
                    <div class="language-dropdown" id="languageDropdown">
                        <div class="language-option" onclick="changeLanguage('ko', 'ğŸ‡°ğŸ‡· í•œêµ­ì–´')">ğŸ‡°ğŸ‡· í•œêµ­ì–´</div>
                        <div class="language-option" onclick="changeLanguage('en', 'ğŸ‡ºğŸ‡¸ English')">ğŸ‡ºğŸ‡¸ English</div>
                        <div class="language-option" onclick="changeLanguage('es', 'ğŸ‡ªğŸ‡¸ EspaÃ±ol')">ğŸ‡ªğŸ‡¸ EspaÃ±ol</div>
                        <div class="language-option" onclick="changeLanguage('fr', 'ğŸ‡«ğŸ‡· FranÃ§ais')">ğŸ‡«ğŸ‡· FranÃ§ais</div>
                        <div class="language-option" onclick="changeLanguage('de', 'ğŸ‡©ğŸ‡ª Deutsch')">ğŸ‡©ğŸ‡ª Deutsch</div>
                        <div class="language-option" onclick="changeLanguage('it', 'ğŸ‡®ğŸ‡¹ Italiano')">ğŸ‡®ğŸ‡¹ Italiano</div>
                        <div class="language-option" onclick="changeLanguage('pt', 'ğŸ‡µğŸ‡¹ PortuguÃªs')">ğŸ‡µğŸ‡¹ PortuguÃªs</div>
                        <div class="language-option" onclick="changeLanguage('ru', 'ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹')">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</div>
                        <div class="language-option" onclick="changeLanguage('ja', 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª')">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</div>
                        <div class="language-option" onclick="changeLanguage('zh-cn', 'ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡')">ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡</div>
                        <div class="language-option" onclick="changeLanguage('zh-tw', 'ğŸ‡¹ğŸ‡¼ ç¹é«”ä¸­æ–‡')">ğŸ‡¹ğŸ‡¼ ç¹é«”ä¸­æ–‡</div>
                        <div class="language-option" onclick="changeLanguage('ar', 'ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©')">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
                        <div class="language-option" onclick="changeLanguage('hi', 'ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€')">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</div>
                        <div class="language-option" onclick="changeLanguage('th', 'ğŸ‡¹ğŸ‡­ à¹„à¸—à¸¢')">ğŸ‡¹ğŸ‡­ à¹„à¸—à¸¢</div>
                        <div class="language-option" onclick="changeLanguage('vi', 'ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t')">ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t</div>
                    </div>
                </div>
                <div class="user-avatar" onclick="showLoginMenu()">G</div>
            </div>
            
            <div class="title">
                <h1 id="app-title">AI ìˆ˜í•™ ë¬¸ì œ í’€ì´</h1>
                <div class="subtitle" id="app-subtitle">ì‚¬ì§„ìœ¼ë¡œ ì°ìœ¼ë©´ ë°”ë¡œ í•´ê²°!</div>
            </div>
            
            <div class="usage-section">
                <div class="usage-header">
                    <span class="usage-text" id="usage-text">ì˜¤ëŠ˜ ì‚¬ìš©ëŸ‰: <span id="usage-count">1</span>/3</span>
                    <a href="#" class="premium-link" onclick="showPricing()" id="premium-link">í”„ë¦¬ë¯¸ì—„ ></a>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 33%"></div>
                </div>
            </div>
        </div>

        <!-- ë¡œê·¸ì¸ ë“œë¡­ë‹¤ìš´ì„ body ì§ì ‘ ìì‹ìœ¼ë¡œ ì´ë™ -->
        <div class="login-dropdown" id="loginDropdown">
            <div class="login-option guest">
                <span>ğŸ‘¤</span>
                <div>
                    <div style="font-weight: bold;">ê²ŒìŠ¤íŠ¸ ì‚¬ìš©ì</div>
                    <div style="font-size: 12px; color: #666;">ë°ëª¨ ë²„ì „ - ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ë¡œê·¸ì¸ ê°€ëŠ¥</div>
                </div>
            </div>
            <div class="login-option" onclick="loginWithGoogle()">
                <span>ğŸ”´</span>
                <span>Googleë¡œ ë¡œê·¸ì¸ (ë°±ì—”ë“œ ì—°ë™ í•„ìš”)</span>
            </div>
            <div class="login-option" onclick="loginWithKakao()">
                <span>ğŸ’›</span>
                <span>ì¹´ì¹´ì˜¤ë¡œ ë¡œê·¸ì¸ (ê°œë°œì ë“±ë¡ í•„ìš”)</span>
            </div>
            <div class="login-option" onclick="loginWithNaver()">
                <span>ğŸŸ¢</span>
                <span>ë„¤ì´ë²„ë¡œ ë¡œê·¸ì¸ (API í‚¤ í•„ìš”)</span>
            </div>
            <div class="login-option" onclick="loginWithApple()">
                <span>âš«</span>
                <span>Appleë¡œ ë¡œê·¸ì¸ (ê°œë°œì ê³„ì • í•„ìš”)</span>
            </div>
            <div class="login-option" onclick="loginWithFacebook()">
                <span>ğŸ”µ</span>
                <span>Facebookìœ¼ë¡œ ë¡œê·¸ì¸ (ì•± ë“±ë¡ í•„ìš”)</span>
            </div>
            <div class="login-option logout" onclick="logout()">
                <span>ğŸšª</span>
                <span>ë¡œê·¸ì•„ì›ƒ (ë°ëª¨)</span>
            </div>
        </div>

        <div class="main-content">
            <div id="upload-section">
                <div class="upload-area" onclick="document.getElementById('file-input').click()">
                    <div class="upload-icon">ğŸ“¸</div>
                    <div class="upload-text" id="upload-text">ìˆ˜í•™ ë¬¸ì œ ì‚¬ì§„ ì—…ë¡œë“œ</div>
                    <div class="upload-subtext" id="upload-subtext">JPG, PNG íŒŒì¼ (ìµœëŒ€ 10MB)</div>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-camera" onclick="openCamera()">
                        <span>ğŸ“·</span>
                        <span id="camera-text">ì¹´ë©”ë¼ ì´¬ì˜</span>
                    </button>
                    <button class="btn btn-gallery" onclick="openGallery()">
                        <span>ğŸ–¼ï¸</span>
                        <span id="gallery-text">ê°¤ëŸ¬ë¦¬ ì„ íƒ</span>
                    </button>
                </div>
                
                <!-- ë¯¸ë¦¬ë³´ê¸° í…ŒìŠ¤íŠ¸ ë²„íŠ¼ - ëˆˆì— ì˜ ë„ê²Œ -->
                <div class="test-button-container">
                    <button class="btn-test" onclick="showTestPreview()">
                        <span style="font-size: 22px;">ğŸ§ª</span>
                        <span id="test-button-text">ë¯¸ë¦¬ë³´ê¸° í…ŒìŠ¤íŠ¸ (í´ë¦­)</span>
                    </button>
                    <div class="test-description" id="test-description-text">
                        ìƒ˜í”Œ ì´ë¯¸ì§€ë¡œ ë¯¸ë¦¬ë³´ê¸° í™”ë©´ì„ ë°”ë¡œ í™•ì¸í•´ë³´ì„¸ìš”
                    </div>
                </div>
            </div>

            <div class="preview-area" id="preview-area">
                <h3 id="preview-title">ì„ íƒí•œ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°</h3>
                <img id="preview-image" class="preview-image" alt="ìˆ˜í•™ ë¬¸ì œ ë¯¸ë¦¬ë³´ê¸°">
                <button class="btn-solve" onclick="solveProblem()" id="solve-button">
                    ğŸš€ <span id="solve-text">ë¬¸ì œ í’€ì´ ì‹œì‘</span>
                </button>
            </div>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <h3 id="loading-text">AIê°€ ë¬¸ì œë¥¼ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</h3>
                <p id="loading-subtext">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”</p>
            </div>

            <div class="result-area" id="result-area">
                <h2 class="result-title" id="result-title">ğŸ“ ë¬¸ì œ í’€ì´ ê²°ê³¼</h2>
                <div id="solution-steps"></div>
            </div>

            <div class="action-buttons" id="action-buttons">
                <button class="btn-secondary" onclick="shareResult()" id="share-button">ğŸ“¤ ê³µìœ </button>
                <button class="btn-secondary" onclick="newProblem()" id="new-button">ğŸ”„ ìƒˆ ë¬¸ì œ</button>
                <button class="btn-secondary" onclick="resetApp()" id="reset-button">ğŸ  ì²˜ìŒìœ¼ë¡œ</button>
            </div>
        </div>
    </div>

    <!-- ê°€ê²© ì •ì±… ëª¨ë‹¬ -->
    <div class="pricing-modal" id="pricing-modal">
        <div class="pricing-content">
            <h2 class="pricing-title" id="pricing-title">ğŸ’° ê°€ê²© ì •ì±…</h2>
            
            <div class="pricing-option recommended">
                <div class="pricing-name" id="premium-name">í”„ë¦¬ë¯¸ì—„ ì›”ê°„</div>
                <div class="pricing-price" id="premium-price">â‚©9,900/ì›”</div>
                <div class="pricing-features" id="premium-features">â€¢ ì›” 1,500ë¬¸ì œ í•´ê²°<br>â€¢ ë¬´ì œí•œ ë‹¨ê³„ë³„ í’€ì´<br>â€¢ ìš°ì„  ê³ ê°ì§€ì›</div>
            </div>
            
            <button class="close-modal" onclick="closePricing()" id="close-pricing">ë‹«ê¸°</button>
        </div>
    </div>

    <!-- í† ìŠ¤íŠ¸ ë©”ì‹œì§€ -->
    <div class="toast" id="toast"></div>

    <!-- ìˆ¨ê²¨ì§„ íŒŒì¼ ì…ë ¥ -->
    <input type="file" id="file-input" accept="image/*" style="display: none;" onchange="handleFileSelect(event)">

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentUsage = 1;
        const maxFreeUsage = 3;
        let currentLanguage = 'ko';
        let selectedFile = null;

        // ì–¸ì–´ë³„ í…ìŠ¤íŠ¸ (15ê°œ ì–¸ì–´ ì™„ì „ ì§€ì›)
        const translations = {
            ko: {
                'app-title': 'AI ìˆ˜í•™ ë¬¸ì œ í’€ì´',
                'app-subtitle': 'ì‚¬ì§„ìœ¼ë¡œ ì°ìœ¼ë©´ ë°”ë¡œ í•´ê²°!',
                'usage-text': 'ì˜¤ëŠ˜ ì‚¬ìš©ëŸ‰: {count}/3',
                'premium-link': 'í”„ë¦¬ë¯¸ì—„ >',
                'upload-text': 'ìˆ˜í•™ ë¬¸ì œ ì‚¬ì§„ ì—…ë¡œë“œ',
                'upload-subtext': 'JPG, PNG íŒŒì¼ (ìµœëŒ€ 10MB)',
                'camera-text': 'ì¹´ë©”ë¼ ì´¬ì˜',
                'gallery-text': 'ê°¤ëŸ¬ë¦¬ ì„ íƒ',
                'test-button': 'ë¯¸ë¦¬ë³´ê¸° í…ŒìŠ¤íŠ¸ (í´ë¦­)',
                'test-description': 'ìƒ˜í”Œ ì´ë¯¸ì§€ë¡œ ë¯¸ë¦¬ë³´ê¸° í™”ë©´ì„ ë°”ë¡œ í™•ì¸í•´ë³´ì„¸ìš”',
                'preview-title': 'ì„ íƒí•œ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°',
                'solve-text': 'ë¬¸ì œ í’€ì´ ì‹œì‘',
                'loading-text': 'AIê°€ ë¬¸ì œë¥¼ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...',
                'loading-subtext': 'ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”',
                'result-title': 'ğŸ“ ë¬¸ì œ í’€ì´ ê²°ê³¼',
                'share-button': 'ğŸ“¤ ê³µìœ ',
                'new-button': 'ğŸ”„ ìƒˆ ë¬¸ì œ',
                'reset-button': 'ğŸ  ì²˜ìŒìœ¼ë¡œ',
                'pricing-title': 'ğŸ’° ê°€ê²© ì •ì±…',
                'premium-name': 'í”„ë¦¬ë¯¸ì—„ ì›”ê°„',
                'premium-price': 'â‚©9,900/ì›”',
                'close-pricing': 'ë‹«ê¸°'
            },
            en: {
                'app-title': 'AI Math Problem Solver',
                'app-subtitle': 'Solve instantly with photos!',
                'usage-text': 'Daily usage: {count}/3',
                'premium-link': 'Premium >',
                'upload-text': 'Upload math problem photo',
                'upload-subtext': 'JPG, PNG files (max 10MB)',
                'camera-text': 'Take Photo',
                'gallery-text': 'Choose Gallery',
                'test-button': 'Preview Test (Click)',
                'test-description': 'Instantly check the preview screen with a sample image',
                'preview-title': 'Selected Image Preview',
                'solve-text': 'Start Solving',
                'loading-text': 'AI is analyzing the problem...',
                'loading-subtext': 'Please wait a moment',
                'result-title': 'ğŸ“ Solution Result',
                'share-button': 'ğŸ“¤ Share',
                'new-button': 'ğŸ”„ New Problem',
                'reset-button': 'ğŸ  Home',
                'pricing-title': 'ğŸ’° Pricing Plans',
                'premium-name': 'Premium Monthly',
                'premium-price': '$7.99/month',
                'close-pricing': 'Close'
            },
            es: {
                'app-title': 'Solucionador IA de MatemÃ¡ticas',
                'app-subtitle': 'Â¡Resuelve al instante con fotos!',
                'usage-text': 'Uso diario: {count}/3',
                'premium-link': 'Premium >',
                'upload-text': 'Subir foto del problema matemÃ¡tico',
                'upload-subtext': 'Archivos JPG, PNG (mÃ¡x 10MB)',
                'camera-text': 'Tomar Foto',
                'gallery-text': 'Elegir GalerÃ­a',
                'test-button': 'Prueba de Vista Previa (Clic)',
                'test-description': 'Verifica instantÃ¡neamente la pantalla de vista previa con una imagen de muestra',
                'preview-title': 'Vista Previa de Imagen Seleccionada',
                'solve-text': 'Comenzar ResoluciÃ³n',
                'loading-text': 'IA estÃ¡ analizando el problema...',
                'loading-subtext': 'Por favor espera un momento',
                'result-title': 'ğŸ“ Resultado de la SoluciÃ³n',
                'share-button': 'ğŸ“¤ Compartir',
                'new-button': 'ğŸ”„ Nuevo Problema',
                'reset-button': 'ğŸ  Inicio',
                'pricing-title': 'ğŸ’° Planes de Precio',
                'premium-name': 'Premium Mensual',
                'premium-price': '$7.99/mes',
                'close-pricing': 'Cerrar'
            },
            fr: {
                'app-title': 'Solveur IA de MathÃ©matiques',
                'app-subtitle': 'RÃ©solvez instantanÃ©ment avec des photos!',
                'usage-text': 'Usage quotidien: {count}/3',
                'premium-link': 'Premium >',
                'upload-text': 'TÃ©lÃ©charger une photo du problÃ¨me mathÃ©matique',
                'upload-subtext': 'Fichiers JPG, PNG (max 10MB)',
                'camera-text': 'Prendre Photo',
                'gallery-text': 'Choisir Galerie',
                'test-button': 'Test d\'AperÃ§u (Clic)',
                'test-description': 'VÃ©rifiez instantanÃ©ment l\'Ã©cran d\'aperÃ§u avec une image d\'exemple',
                'preview-title': 'AperÃ§u de l\'Image SÃ©lectionnÃ©e',
                'solve-text': 'Commencer la RÃ©solution',
                'loading-text': 'L\'IA analyse le problÃ¨me...',
                'loading-subtext': 'Veuillez patienter un moment',
                'result-title': 'ğŸ“ RÃ©sultat de la Solution',
                'share-button': 'ğŸ“¤ Partager',
                'new-button': 'ğŸ”„ Nouveau ProblÃ¨me',
                'reset-button': 'ğŸ  Accueil',
                'pricing-title': 'ğŸ’° Plans Tarifaires',
                'premium-name': 'Premium Mensuel',
                'premium-price': '7,99â‚¬/mois',
                'close-pricing': 'Fermer'
            },
            de: {
                'app-title': 'KI Mathe-ProblemlÃ¶ser',
                'app-subtitle': 'Sofort lÃ¶sen mit Fotos!',
                'usage-text': 'TÃ¤gliche Nutzung: {count}/3',
                'premium-link': 'Premium >',
                'upload-text': 'Mathe-Problem Foto hochladen',
                'upload-subtext': 'JPG, PNG Dateien (max 10MB)',
                'camera-text': 'Foto aufnehmen',
                'gallery-text': 'Galerie wÃ¤hlen',
                'test-button': 'Vorschau-Test (Klick)',
                'test-description': 'ÃœberprÃ¼fen Sie sofort den Vorschaubildschirm mit einem Beispielbild',
                'preview-title': 'Bildvorschau der Auswahl',
                'solve-text': 'LÃ¶sung starten',
                'loading-text': 'KI analysiert das Problem...',
                'loading-subtext': 'Bitte warten Sie einen Moment',
                'result-title': 'ğŸ“ LÃ¶sungsergebnis',
                'share-button': 'ğŸ“¤ Teilen',
                'new-button': 'ğŸ”„ Neues Problem',
                'reset-button': 'ğŸ  Startseite',
                'pricing-title': 'ğŸ’° PreisplÃ¤ne',
                'premium-name': 'Premium Monatlich',
                'premium-price': 'â‚¬7,99/Monat',
                'close-pricing': 'SchlieÃŸen'
            },
            it: {
                'app-title': 'Risolutore IA di Matematica',
                'app-subtitle': 'Risolvi istantaneamente con le foto!',
                'usage-text': 'Uso giornaliero: {count}/3',
                'premium-link': 'Premium >',
                'upload-text': 'Carica foto del problema matematico',
                'upload-subtext': 'File JPG, PNG (max 10MB)',
                'camera-text': 'Scatta Foto',
                'gallery-text': 'Scegli Galleria',
                'test-button': 'Test Anteprima (Clic)',
                'test-description': 'Controlla istantaneamente la schermata di anteprima con un\'immagine di esempio',
                'preview-title': 'Anteprima Immagine Selezionata',
                'solve-text': 'Inizia Risoluzione',
                'loading-text': 'L\'IA sta analizzando il problema...',
                'loading-subtext': 'Attendere un momento',
                'result-title': 'ğŸ“ Risultato della Soluzione',
                'share-button': 'ğŸ“¤ Condividi',
                'new-button': 'ğŸ”„ Nuovo Problema',
                'reset-button': 'ğŸ  Home',
                'pricing-title': 'ğŸ’° Piani Tariffari',
                'premium-name': 'Premium Mensile',
                'premium-price': 'â‚¬7,99/mese',
                'close-pricing': 'Chiudi'
            },
            pt: {
                'app-title': 'Solucionador IA de MatemÃ¡tica',
                'app-subtitle': 'Resolva instantaneamente com fotos!',
                'usage-text': 'Uso diÃ¡rio: {count}/3',
                'premium-link': 'Premium >',
                'upload-text': 'Enviar foto do problema matemÃ¡tico',
                'upload-subtext': 'Arquivos JPG, PNG (mÃ¡x 10MB)',
                'camera-text': 'Tirar Foto',
                'gallery-text': 'Escolher Galeria',
                'test-button': 'Teste de VisualizaÃ§Ã£o (Clique)',
                'test-description': 'Verifique instantaneamente a tela de visualizaÃ§Ã£o com uma imagem de exemplo',
                'preview-title': 'VisualizaÃ§Ã£o da Imagem Selecionada',
                'solve-text': 'Iniciar ResoluÃ§Ã£o',
                'loading-text': 'IA estÃ¡ analisando o problema...',
                'loading-subtext': 'Por favor aguarde um momento',
                'result-title': 'ğŸ“ Resultado da SoluÃ§Ã£o',
                'share-button': 'ğŸ“¤ Compartilhar',
                'new-button': 'ğŸ”„ Novo Problema',
                'reset-button': 'ğŸ  InÃ­cio',
                'pricing-title': 'ğŸ’° Planos de PreÃ§os',
                'premium-name': 'Premium Mensal',
                'premium-price': 'R$39,90/mÃªs',
                'close-pricing': 'Fechar'
            },
            ru: {
                'app-title': 'Ğ˜Ğ˜ Ğ ĞµÑˆĞ°Ñ‚ĞµĞ»ÑŒ ĞœĞ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ—Ğ°Ğ´Ğ°Ñ‡',
                'app-subtitle': 'Ğ ĞµÑˆĞ°Ğ¹Ñ‚Ğµ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾ Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ Ñ„Ğ¾Ñ‚Ğ¾!',
                'usage-text': 'Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ğ¾Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: {count}/3',
                'premium-link': 'ĞŸÑ€ĞµĞ¼Ğ¸ÑƒĞ¼ >',
                'upload-text': 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸',
                'upload-subtext': 'Ğ¤Ğ°Ğ¹Ğ»Ñ‹ JPG, PNG (Ğ¼Ğ°ĞºÑ 10ĞœĞ‘)',
                'camera-text': 'Ğ¡Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ¤Ğ¾Ñ‚Ğ¾',
                'gallery-text': 'Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¸Ğ· Ğ“Ğ°Ğ»ĞµÑ€ĞµĞ¸',
                'test-button': 'Ğ¢ĞµÑÑ‚ ĞŸÑ€ĞµĞ´Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ° (ĞšĞ»Ğ¸Ğº)',
                'test-description': 'ĞœĞ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑĞºÑ€Ğ°Ğ½ Ğ¿Ñ€ĞµĞ´Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ° Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ',
                'preview-title': 'ĞŸÑ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ',
                'solve-text': 'ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ',
                'loading-text': 'Ğ˜Ğ˜ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ...',
                'loading-subtext': 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸Ñ‚Ğµ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚',
                'result-title': 'ğŸ“ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ ĞµÑˆĞµĞ½Ğ¸Ñ',
                'share-button': 'ğŸ“¤ ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ',
                'new-button': 'ğŸ”„ ĞĞ¾Ğ²Ğ°Ñ Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°',
                'reset-button': 'ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ',
                'pricing-title': 'ğŸ’° Ğ¢Ğ°Ñ€Ğ¸Ñ„Ğ½Ñ‹Ğµ ĞŸĞ»Ğ°Ğ½Ñ‹',
                'premium-name': 'ĞŸÑ€ĞµĞ¼Ğ¸ÑƒĞ¼ Ğ•Ğ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ğ¾',
                'premium-price': 'â‚½599/Ğ¼ĞµÑÑÑ†',
                'close-pricing': 'Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ'
            },
            ja: {
                'app-title': 'AIæ•°å­¦å•é¡Œè§£æ±º',
                'app-subtitle': 'å†™çœŸã§ç¬æ™‚ã«è§£æ±ºï¼',
                'usage-text': 'ä»Šæ—¥ã®ä½¿ç”¨é‡: {count}/3',
                'premium-link': 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ  >',
                'upload-text': 'æ•°å­¦å•é¡Œã®å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰',
                'upload-subtext': 'JPGã€PNGãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæœ€å¤§10MBï¼‰',
                'camera-text': 'å†™çœŸã‚’æ’®ã‚‹',
                'gallery-text': 'ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‚’é¸æŠ',
                'test-button': 'ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚¹ãƒˆï¼ˆã‚¯ãƒªãƒƒã‚¯ï¼‰',
                'test-description': 'ã‚µãƒ³ãƒ—ãƒ«ç”»åƒã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã‚’ã™ãã«ç¢ºèªã—ã¦ãã ã•ã„',
                'preview-title': 'é¸æŠã—ãŸç”»åƒã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼',
                'solve-text': 'è§£æ±ºã‚’é–‹å§‹',
                'loading-text': 'AIãŒå•é¡Œã‚’åˆ†æä¸­ã§ã™...',
                'loading-subtext': 'ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„',
                'result-title': 'ğŸ“ è§£æ±ºçµæœ',
                'share-button': 'ğŸ“¤ å…±æœ‰',
                'new-button': 'ğŸ”„ æ–°ã—ã„å•é¡Œ',
                'reset-button': 'ğŸ  ãƒ›ãƒ¼ãƒ ',
                'pricing-title': 'ğŸ’° æ–™é‡‘ãƒ—ãƒ©ãƒ³',
                'premium-name': 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ æœˆé¡',
                'premium-price': 'Â¥980/æœˆ',
                'close-pricing': 'é–‰ã˜ã‚‹'
            },
            'zh-cn': {
                'app-title': 'AIæ•°å­¦é¢˜è§£å†³å™¨',
                'app-subtitle': 'æ‹ç…§å³å¯è§£é¢˜ï¼',
                'usage-text': 'ä»Šæ—¥ä½¿ç”¨é‡: {count}/3',
                'premium-link': 'é«˜çº§ç‰ˆ >',
                'upload-text': 'ä¸Šä¼ æ•°å­¦é¢˜ç…§ç‰‡',
                'upload-subtext': 'JPGã€PNGæ–‡ä»¶ï¼ˆæœ€å¤§10MBï¼‰',
                'camera-text': 'æ‹ç…§',
                'gallery-text': 'é€‰æ‹©ç›¸å†Œ',
                'test-button': 'é¢„è§ˆæµ‹è¯•ï¼ˆç‚¹å‡»ï¼‰',
                'test-description': 'ç”¨ç¤ºä¾‹å›¾ç‰‡ç«‹å³æŸ¥çœ‹é¢„è§ˆå±å¹•',
                'preview-title': 'é€‰ä¸­å›¾ç‰‡é¢„è§ˆ',
                'solve-text': 'å¼€å§‹è§£é¢˜',
                'loading-text': 'AIæ­£åœ¨åˆ†æé¢˜ç›®...',
                'loading-subtext': 'è¯·ç¨å€™',
                'result-title': 'ğŸ“ è§£é¢˜ç»“æœ',
                'share-button': 'ğŸ“¤ åˆ†äº«',
                'new-button': 'ğŸ”„ æ–°é¢˜ç›®',
                'reset-button': 'ğŸ  é¦–é¡µ',
                'pricing-title': 'ğŸ’° ä»·æ ¼æ–¹æ¡ˆ',
                'premium-name': 'é«˜çº§ç‰ˆæœˆä»˜',
                'premium-price': 'Â¥58/æœˆ',
                'close-pricing': 'å…³é—­'
            },
            'zh-tw': {
                'app-title': 'AIæ•¸å­¸é¡Œè§£æ±ºå™¨',
                'app-subtitle': 'æ‹ç…§å³å¯è§£é¡Œï¼',
                'usage-text': 'ä»Šæ—¥ä½¿ç”¨é‡: {count}/3',
                'premium-link': 'é«˜ç´šç‰ˆ >',
                'upload-text': 'ä¸Šå‚³æ•¸å­¸é¡Œç…§ç‰‡',
                'upload-subtext': 'JPGã€PNGæª”æ¡ˆï¼ˆæœ€å¤§10MBï¼‰',
                'camera-text': 'æ‹ç…§',
                'gallery-text': 'é¸æ“‡ç›¸ç°¿',
                'test-button': 'é è¦½æ¸¬è©¦ï¼ˆé»æ“Šï¼‰',
                'test-description': 'ç”¨ç¯„ä¾‹åœ–ç‰‡ç«‹å³æŸ¥çœ‹é è¦½ç•«é¢',
                'preview-title': 'é¸ä¸­åœ–ç‰‡é è¦½',
                'solve-text': 'é–‹å§‹è§£é¡Œ',
                'loading-text': 'AIæ­£åœ¨åˆ†æé¡Œç›®...',
                'loading-subtext': 'è«‹ç¨å€™',
                'result-title': 'ğŸ“ è§£é¡Œçµæœ',
                'share-button': 'ğŸ“¤ åˆ†äº«',
                'new-button': 'ğŸ”„ æ–°é¡Œç›®',
                'reset-button': 'ğŸ  é¦–é ',
                'pricing-title': 'ğŸ’° åƒ¹æ ¼æ–¹æ¡ˆ',
                'premium-name': 'é«˜ç´šç‰ˆæœˆä»˜',
                'premium-price': 'NT$290/æœˆ',
                'close-pricing': 'é—œé–‰'
            },
            ar: {
                'app-title': 'Ø­Ù„Ø§Ù„ Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ',
                'app-subtitle': 'Ø­Ù„ ÙÙˆØ±ÙŠ Ø¨Ø§Ù„ØµÙˆØ±!',
                'usage-text': 'Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠ: {count}/3',
                'premium-link': 'Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ… >',
                'upload-text': 'ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³Ø£Ù„Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©',
                'upload-subtext': 'Ù…Ù„ÙØ§Øª JPGØŒ PNG (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 10 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª)',
                'camera-text': 'Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø©',
                'gallery-text': 'Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ù…Ø¹Ø±Ø¶',
                'test-button': 'Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© (Ø§Ù†Ù‚Ø±)',
                'test-description': 'ØªØ­Ù‚Ù‚ ÙÙˆØ±Ø§Ù‹ Ù…Ù† Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø¨ØµÙˆØ±Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©',
                'preview-title': 'Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©',
                'solve-text': 'Ø¨Ø¯Ø¡ Ø§Ù„Ø­Ù„',
                'loading-text': 'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠØ­Ù„Ù„ Ø§Ù„Ù…Ø³Ø£Ù„Ø©...',
                'loading-subtext': 'ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù„Ø­Ø¸Ø©',
                'result-title': 'ğŸ“ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ù„',
                'share-button': 'ğŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ©',
                'new-button': 'ğŸ”„ Ù…Ø³Ø£Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©',
                'reset-button': 'ğŸ  Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
                'pricing-title': 'ğŸ’° Ø®Ø·Ø· Ø§Ù„Ø£Ø³Ø¹Ø§Ø±',
                'premium-name': 'Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ… Ø´Ù‡Ø±ÙŠ',
                'premium-price': '29.99 Ø±ÙŠØ§Ù„/Ø´Ù‡Ø±',
                'close-pricing': 'Ø¥ØºÙ„Ø§Ù‚'
            },
            hi: {
                'app-title': 'AI à¤—à¤£à¤¿à¤¤ à¤¸à¤®à¤¸à¥à¤¯à¤¾ à¤¸à¤®à¤¾à¤§à¤¾à¤¨à¤•à¤°à¥à¤¤à¤¾',
                'app-subtitle': 'à¤«à¥‹à¤Ÿà¥‹ à¤¸à¥‡ à¤¤à¥à¤°à¤‚à¤¤ à¤¹à¤² à¤•à¤°à¥‡à¤‚!',
                'usage-text': 'à¤¦à¥ˆà¤¨à¤¿à¤• à¤‰à¤ªà¤¯à¥‹à¤—: {count}/3',
                'premium-link': 'à¤ªà¥à¤°à¥€à¤®à¤¿à¤¯à¤® >',
                'upload-text': 'à¤—à¤£à¤¿à¤¤ à¤¸à¤®à¤¸à¥à¤¯à¤¾ à¤«à¥‹à¤Ÿà¥‹ à¤…à¤ªà¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚',
                'upload-subtext': 'JPG, PNG à¤«à¤¾à¤‡à¤²à¥‡à¤‚ (à¤…à¤§à¤¿à¤•à¤¤à¤® 10MB)',
                'camera-text': 'à¤«à¥‹à¤Ÿà¥‹ à¤²à¥‡à¤‚',
                'gallery-text': 'à¤—à¥ˆà¤²à¤°à¥€ à¤šà¥à¤¨à¥‡à¤‚',
                'test-button': 'à¤ªà¥‚à¤°à¥à¤µà¤¾à¤µà¤²à¥‹à¤•à¤¨ à¤ªà¤°à¥€à¤•à¥à¤·à¤£ (à¤•à¥à¤²à¤¿à¤•)',
                'test-description': 'à¤¨à¤®à¥‚à¤¨à¤¾ à¤›à¤µà¤¿ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤ªà¥‚à¤°à¥à¤µà¤¾à¤µà¤²à¥‹à¤•à¤¨ à¤¸à¥à¤•à¥à¤°à¥€à¤¨ à¤•à¥‹ à¤¤à¥à¤°à¤‚à¤¤ à¤œà¤¾à¤‚à¤šà¥‡à¤‚',
                'preview-title': 'à¤šà¤¯à¤¨à¤¿à¤¤ à¤›à¤µà¤¿ à¤ªà¥‚à¤°à¥à¤µà¤¾à¤µà¤²à¥‹à¤•à¤¨',
                'solve-text': 'à¤¸à¤®à¤¾à¤§à¤¾à¤¨ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚',
                'loading-text': 'AI à¤¸à¤®à¤¸à¥à¤¯à¤¾ à¤•à¤¾ à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£ à¤•à¤° à¤°à¤¹à¤¾ à¤¹à¥ˆ...',
                'loading-subtext': 'à¤•à¥ƒà¤ªà¤¯à¤¾ à¤à¤• à¤•à¥à¤·à¤£ à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤•à¤°à¥‡à¤‚',
                'result-title': 'ğŸ“ à¤¸à¤®à¤¾à¤§à¤¾à¤¨ à¤ªà¤°à¤¿à¤£à¤¾à¤®',
                'share-button': 'ğŸ“¤ à¤¸à¤¾à¤à¤¾ à¤•à¤°à¥‡à¤‚',
                'new-button': 'ğŸ”„ à¤¨à¤ˆ à¤¸à¤®à¤¸à¥à¤¯à¤¾',
                'reset-button': 'ğŸ  à¤¹à¥‹à¤®',
                'pricing-title': 'ğŸ’° à¤®à¥‚à¤²à¥à¤¯ à¤¯à¥‹à¤œà¤¨à¤¾à¤à¤‚',
                'premium-name': 'à¤ªà¥à¤°à¥€à¤®à¤¿à¤¯à¤® à¤®à¤¾à¤¸à¤¿à¤•',
                'premium-price': 'â‚¹599/à¤®à¤¾à¤¹',
                'close-pricing': 'à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚'
            },
            th: {
                'app-title': 'AI à¹à¸à¹‰à¸›à¸±à¸à¸«à¸²à¸„à¸“à¸´à¸•à¸¨à¸²à¸ªà¸•à¸£à¹Œ',
                'app-subtitle': 'à¹à¸à¹‰à¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µà¸”à¹‰à¸§à¸¢à¸ à¸²à¸à¸–à¹ˆà¸²à¸¢!',
                'usage-text': 'à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸£à¸²à¸¢à¸§à¸±à¸™: {count}/3',
                'premium-link': 'à¸à¸£à¸µà¹€à¸¡à¸µà¸¢à¸¡ >',
                'upload-text': 'à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸ à¸²à¸à¸›à¸±à¸à¸«à¸²à¸„à¸“à¸´à¸•à¸¨à¸²à¸ªà¸•à¸£à¹Œ',
                'upload-subtext': 'à¹„à¸Ÿà¸¥à¹Œ JPG, PNG (à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 10MB)',
                'camera-text': 'à¸–à¹ˆà¸²à¸¢à¸ à¸²à¸',
                'gallery-text': 'à¹€à¸¥à¸·à¸­à¸à¸ˆà¸²à¸à¹à¸à¸¥à¹€à¸¥à¸­à¸£à¸µ',
                'test-button': 'à¸—à¸”à¸ªà¸­à¸šà¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ (à¸„à¸¥à¸´à¸)',
                'test-description': 'à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸«à¸™à¹‰à¸²à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸—à¸±à¸™à¸—à¸µà¸”à¹‰à¸§à¸¢à¸ à¸²à¸à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡',
                'preview-title': 'à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸ à¸²à¸à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸',
                'solve-text': 'à¹€à¸£à¸´à¹ˆà¸¡à¹à¸à¹‰à¸›à¸±à¸à¸«à¸²',
                'loading-text': 'AI à¸à¸³à¸¥à¸±à¸‡à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸›à¸±à¸à¸«à¸²...',
                'loading-subtext': 'à¸à¸£à¸¸à¸“à¸²à¸£à¸­à¸ªà¸±à¸à¸„à¸£à¸¹à¹ˆ',
                'result-title': 'ğŸ“ à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸à¸²à¸£à¹à¸à¹‰à¸›à¸±à¸à¸«à¸²',
                'share-button': 'ğŸ“¤ à¹à¸Šà¸£à¹Œ',
                'new-button': 'ğŸ”„ à¸›à¸±à¸à¸«à¸²à¹ƒà¸«à¸¡à¹ˆ',
                'reset-button': 'ğŸ  à¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸',
                'pricing-title': 'ğŸ’° à¹à¸œà¸™à¸£à¸²à¸„à¸²',
                'premium-name': 'à¸à¸£à¸µà¹€à¸¡à¸µà¸¢à¸¡à¸£à¸²à¸¢à¹€à¸”à¸·à¸­à¸™',
                'premium-price': 'à¸¿299/à¹€à¸”à¸·à¸­à¸™',
                'close-pricing': 'à¸›à¸´à¸”'
            },
            vi: {
                'app-title': 'AI Giáº£i ToÃ¡n',
                'app-subtitle': 'Giáº£i ngay báº±ng áº£nh chá»¥p!',
                'usage-text': 'Sá»­ dá»¥ng hÃ ng ngÃ y: {count}/3',
                'premium-link': 'Premium >',
                'upload-text': 'Táº£i lÃªn áº£nh bÃ i toÃ¡n',
                'upload-subtext': 'Tá»‡p JPG, PNG (tá»‘i Ä‘a 10MB)',
                'camera-text': 'Chá»¥p áº¢nh',
                'gallery-text': 'Chá»n ThÆ° Viá»‡n',
                'test-button': 'Kiá»ƒm Tra Xem TrÆ°á»›c (Nháº¥p)',
                'test-description': 'Kiá»ƒm tra ngay mÃ n hÃ¬nh xem trÆ°á»›c vá»›i hÃ¬nh áº£nh máº«u',
                'preview-title': 'Xem TrÆ°á»›c HÃ¬nh áº¢nh ÄÃ£ Chá»n',
                'solve-text': 'Báº¯t Äáº§u Giáº£i',
                'loading-text': 'AI Ä‘ang phÃ¢n tÃ­ch bÃ i toÃ¡n...',
                'loading-subtext': 'Vui lÃ²ng Ä‘á»£i má»™t chÃºt',
                'result-title': 'ğŸ“ Káº¿t Quáº£ Giáº£i',
                'share-button': 'ğŸ“¤ Chia Sáº»',
                'new-button': 'ğŸ”„ BÃ i Má»›i',
                'reset-button': 'ğŸ  Trang Chá»§',
                'pricing-title': 'ğŸ’° GÃ³i GiÃ¡',
                'premium-name': 'Premium HÃ ng ThÃ¡ng',
                'premium-price': '199.000Ä‘/thÃ¡ng',
                'close-pricing': 'ÄÃ³ng'
            }
        };

        // ì–¸ì–´ ë“œë¡­ë‹¤ìš´ í† ê¸€
        function toggleLanguageDropdown() {
            const dropdown = document.getElementById('languageDropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }

        // ì–¸ì–´ ë³€ê²½ (ì™„ì „ ìˆ˜ì • ë²„ì „)
        function changeLanguage(lang, displayText) {
            console.log(`ì–¸ì–´ ë³€ê²½ ì‹œì‘: ${lang} (${displayText})`);
            
            currentLanguage = lang;
            document.getElementById('current-language').textContent = displayText;
            document.getElementById('languageDropdown').style.display = 'none';
            
            // ë²ˆì—­ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
            const texts = translations[lang] || translations['ko'];
            console.log('ë²ˆì—­ ë°ì´í„°:', texts);
            
            // ëª¨ë“  í…ìŠ¤íŠ¸ ìš”ì†Œ ì—…ë°ì´íŠ¸
            const elementsToUpdate = [
                'app-title', 'app-subtitle', 'premium-link', 'upload-text', 
                'upload-subtext', 'camera-text', 'gallery-text', 'preview-title',
                'solve-text', 'loading-text', 'loading-subtext', 'result-title',
                'share-button', 'new-button', 'reset-button', 'pricing-title',
                'premium-name', 'premium-price', 'close-pricing'
            ];
            
            elementsToUpdate.forEach(elementId => {
                const element = document.getElementById(elementId);
                if (element && texts[elementId]) {
                    element.textContent = texts[elementId];
                    console.log(`âœ… ${elementId} ì—…ë°ì´íŠ¸: ${texts[elementId]}`);
                } else {
                    console.log(`âŒ ${elementId} ìš”ì†Œ ë˜ëŠ” ë²ˆì—­ ì—†ìŒ`);
                }
            });
            
            // ì‚¬ìš©ëŸ‰ í…ìŠ¤íŠ¸ íŠ¹ë³„ ì²˜ë¦¬ (ì¹´ìš´í„° í¬í•¨)
            const usageElement = document.querySelector('.usage-text');
            if (usageElement && texts['usage-text']) {
                usageElement.innerHTML = texts['usage-text'].replace('{count}', `<span id="usage-count">${currentUsage}</span>`);
                console.log(`âœ… ì‚¬ìš©ëŸ‰ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸: ${texts['usage-text']}`);
            }
            
            // í…ŒìŠ¤íŠ¸ ë²„íŠ¼ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ (IDë¡œ ì§ì ‘ ì ‘ê·¼)
            const testButtonText = document.getElementById('test-button-text');
            if (testButtonText && texts['test-button']) {
                testButtonText.textContent = texts['test-button'];
                console.log(`âœ… í…ŒìŠ¤íŠ¸ ë²„íŠ¼ ì—…ë°ì´íŠ¸: ${texts['test-button']}`);
            }
            
            // í…ŒìŠ¤íŠ¸ ì„¤ëª… í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ (IDë¡œ ì§ì ‘ ì ‘ê·¼)
            const testDescriptionText = document.getElementById('test-description-text');
            if (testDescriptionText && texts['test-description']) {
                testDescriptionText.textContent = texts['test-description'];
                console.log(`âœ… í…ŒìŠ¤íŠ¸ ì„¤ëª… ì—…ë°ì´íŠ¸: ${texts['test-description']}`);
            }
            
            console.log(`âœ… ì–¸ì–´ ë³€ê²½ ì™„ë£Œ: ${displayText}`);
            showToast(`ì–¸ì–´ê°€ ${displayText}ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // ë¡œê·¸ì¸ ë©”ë‰´ í‘œì‹œ
        function showLoginMenu() {
            console.log('=== ë¡œê·¸ì¸ ë©”ë‰´ í´ë¦­ë¨ ===');
            
            const dropdown = document.getElementById('loginDropdown');
            
            if (!dropdown) {
                console.error('âŒ loginDropdown ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!');
                alert('ë¡œê·¸ì¸ ë“œë¡­ë‹¤ìš´ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!');
                return;
            }
            
            const isVisible = dropdown.style.display === 'block';
            
            if (isVisible) {
                dropdown.style.display = 'none';
            } else {
                dropdown.style.display = 'block';
                dropdown.style.position = 'fixed';
                dropdown.style.top = '60px';
                dropdown.style.right = '10px';
                dropdown.style.zIndex = '999999';
            }
            
            const languageDropdown = document.getElementById('languageDropdown');
            if (languageDropdown) {
                languageDropdown.style.display = 'none';
            }
        }

        // ì†Œì…œ ë¡œê·¸ì¸ í•¨ìˆ˜ë“¤ (í˜„ì‹¤ì ì¸ ë©”ì‹œì§€)
        function loginWithGoogle() {
            showToast('Google OAuth ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤. ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ë°±ì—”ë“œ ì—°ë™ í›„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.');
            closeLoginDropdown();
        }

        function loginWithKakao() {
            showToast('ì¹´ì¹´ì˜¤ ê°œë°œì ë“±ë¡ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°±ì—”ë“œ ì„œë²„ì™€ ì—°ë™í•˜ë©´ ì‹¤ì œ ë¡œê·¸ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
            closeLoginDropdown();
        }

        function loginWithNaver() {
            showToast('ë„¤ì´ë²„ ê°œë°œì ì„¼í„° ë“±ë¡ í›„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” UI ë°ëª¨ ë²„ì „ì…ë‹ˆë‹¤.');
            closeLoginDropdown();
        }

        function loginWithApple() {
            showToast('Apple Developer ê³„ì •ì´ í•„ìš”í•©ë‹ˆë‹¤. ì‹¤ì œ ì•± ë°°í¬ ì‹œ ì—°ë™ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
            closeLoginDropdown();
        }

        function loginWithFacebook() {
            showToast('Facebook for Developers ì„¤ì • í›„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.');
            closeLoginDropdown();
        }

        function logout() { 
            showToast('ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤. (ë°ëª¨ì—ì„œëŠ” ê²ŒìŠ¤íŠ¸ ìƒíƒœë¡œ ìœ ì§€ë©ë‹ˆë‹¤)');
            closeLoginDropdown();
            currentUsage = 0;
            updateUsageDisplay();
        }

        // ì¹´ë©”ë¼/ê°¤ëŸ¬ë¦¬ ì—´ê¸°
        function openCamera() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.capture = 'environment';
            input.onchange = handleFileSelect;
            input.click();
        }

        function openGallery() {
            document.getElementById('file-input').click();
        }

        // íŒŒì¼ ì„ íƒ ì²˜ë¦¬
        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (!file) return;

            if (!file.type.startsWith('image/')) {
                showToast('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤');
                return;
            }

            if (file.size > 10 * 1024 * 1024) {
                showToast('íŒŒì¼ í¬ê¸°ëŠ” 10MB ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤');
                return;
            }

            selectedFile = file;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const previewImage = document.getElementById('preview-image');
                previewImage.src = e.target.result;
                
                document.getElementById('upload-section').style.display = 'none';
                document.getElementById('preview-area').style.display = 'block';
            };
            reader.readAsDataURL(file);
            
            showToast('ì´ë¯¸ì§€ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        // í…ŒìŠ¤íŠ¸ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ (ë‹¤êµ­ì–´ ì§€ì›)
        function showTestPreview() {
            console.log('=== í…ŒìŠ¤íŠ¸ ë¯¸ë¦¬ë³´ê¸° ì‹œì‘ ===');
            
            const uploadSection = document.getElementById('upload-section');
            const previewArea = document.getElementById('preview-area');
            const previewImage = document.getElementById('preview-image');
            
            if (!uploadSection || !previewArea || !previewImage) {
                console.error('í•„ìš”í•œ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                return;
            }

            // í˜„ì¬ ì–¸ì–´ì˜ í…ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°
            const texts = translations[currentLanguage] || translations['ko'];
            
            // Canvasë¡œ ë‹¤êµ­ì–´ í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€ ìƒì„±
            const canvas = document.createElement('canvas');
            canvas.width = 400;
            canvas.height = 300;
            const ctx = canvas.getContext('2d');
            
            // ë°°ê²½
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, 400, 300);
            
            // í…Œë‘ë¦¬
            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 3;
            ctx.strokeRect(5, 5, 390, 290);
            
            // ì–¸ì–´ë³„ í…ìŠ¤íŠ¸ ì„¤ì •
            const canvasTexts = {
                ko: {
                    title: 'ğŸ§ª í…ŒìŠ¤íŠ¸ ë¯¸ë¦¬ë³´ê¸°',
                    problem: 'ìˆ˜í•™ ë¬¸ì œ ì˜ˆì‹œ:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'ì´ í™”ë©´ì´ ë°”ë¡œ ë¯¸ë¦¬ë³´ê¸°ì…ë‹ˆë‹¤!',
                    description2: 'ì‹¤ì œ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ë©´',
                    description3: 'ì´ë ‡ê²Œ í‘œì‹œë©ë‹ˆë‹¤',
                    success: 'âœ… ë¯¸ë¦¬ë³´ê¸° ì„±ê³µ!'
                },
                en: {
                    title: 'ğŸ§ª Preview Test',
                    problem: 'Math Problem Example:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'This is the preview screen!',
                    description2: 'When you select a real image',
                    description3: 'it will be displayed like this',
                    success: 'âœ… Preview Success!'
                },
                es: {
                    title: 'ğŸ§ª Prueba de Vista Previa',
                    problem: 'Ejemplo de Problema:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'Â¡Esta es la pantalla de vista previa!',
                    description2: 'Cuando selecciones una imagen real',
                    description3: 'se mostrarÃ¡ asÃ­',
                    success: 'âœ… Â¡Vista Previa Exitosa!'
                },
                fr: {
                    title: 'ğŸ§ª Test d\'AperÃ§u',
                    problem: 'Exemple de ProblÃ¨me:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'Ceci est l\'Ã©cran d\'aperÃ§u!',
                    description2: 'Quand vous sÃ©lectionnez une vraie image',
                    description3: 'elle s\'affichera ainsi',
                    success: 'âœ… AperÃ§u RÃ©ussi!'
                },
                de: {
                    title: 'ğŸ§ª Vorschau-Test',
                    problem: 'Mathematik Beispiel:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'Das ist der Vorschaubildschirm!',
                    description2: 'Wenn Sie ein echtes Bild wÃ¤hlen',
                    description3: 'wird es so angezeigt',
                    success: 'âœ… Vorschau Erfolgreich!'
                },
                it: {
                    title: 'ğŸ§ª Test Anteprima',
                    problem: 'Esempio di Problema:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'Questa Ã¨ la schermata di anteprima!',
                    description2: 'Quando selezioni un\'immagine reale',
                    description3: 'verrÃ  visualizzata cosÃ¬',
                    success: 'âœ… Anteprima Riuscita!'
                },
                pt: {
                    title: 'ğŸ§ª Teste de VisualizaÃ§Ã£o',
                    problem: 'Exemplo de Problema:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'Esta Ã© a tela de visualizaÃ§Ã£o!',
                    description2: 'Quando vocÃª selecionar uma imagem real',
                    description3: 'serÃ¡ exibida assim',
                    success: 'âœ… VisualizaÃ§Ã£o Bem-sucedida!'
                },
                ru: {
                    title: 'ğŸ§ª Ğ¢ĞµÑÑ‚ ĞŸÑ€ĞµĞ´Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ°',
                    problem: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'Ğ­Ñ‚Ğ¾ ÑĞºÑ€Ğ°Ğ½ Ğ¿Ñ€ĞµĞ´Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ°!',
                    description2: 'ĞšĞ¾Ğ³Ğ´Ğ° Ğ²Ñ‹ Ğ²Ñ‹Ğ±ĞµÑ€ĞµÑ‚Ğµ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ',
                    description3: 'Ğ¾Ğ½Ğ¾ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°Ñ‚ÑŒÑÑ Ñ‚Ğ°Ğº',
                    success: 'âœ… ĞŸÑ€ĞµĞ´Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ£ÑĞ¿ĞµÑˆĞµĞ½!'
                },
                ja: {
                    title: 'ğŸ§ª ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚¹ãƒˆ',
                    problem: 'æ•°å­¦å•é¡Œä¾‹:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'ã“ã‚ŒãŒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã§ã™ï¼',
                    description2: 'å®Ÿéš›ã®ç”»åƒã‚’é¸æŠã™ã‚‹ã¨',
                    description3: 'ã“ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™',
                    success: 'âœ… ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æˆåŠŸï¼'
                },
                'zh-cn': {
                    title: 'ğŸ§ª é¢„è§ˆæµ‹è¯•',
                    problem: 'æ•°å­¦é¢˜ç¤ºä¾‹:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'è¿™å°±æ˜¯é¢„è§ˆå±å¹•ï¼',
                    description2: 'å½“æ‚¨é€‰æ‹©çœŸå®å›¾ç‰‡æ—¶',
                    description3: 'å°±ä¼šè¿™æ ·æ˜¾ç¤º',
                    success: 'âœ… é¢„è§ˆæˆåŠŸï¼'
                },
                'zh-tw': {
                    title: 'ğŸ§ª é è¦½æ¸¬è©¦',
                    problem: 'æ•¸å­¸é¡Œç¯„ä¾‹:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'é€™å°±æ˜¯é è¦½ç•«é¢ï¼',
                    description2: 'ç•¶æ‚¨é¸æ“‡çœŸå¯¦åœ–ç‰‡æ™‚',
                    description3: 'å°±æœƒé€™æ¨£é¡¯ç¤º',
                    success: 'âœ… é è¦½æˆåŠŸï¼'
                },
                ar: {
                    title: 'ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©',
                    problem: 'Ù…Ø«Ø§Ù„ Ù…Ø³Ø£Ù„Ø© Ø±ÙŠØ§Ø¶ÙŠØ©:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'Ù‡Ø°Ù‡ Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©!',
                    description2: 'Ø¹Ù†Ø¯Ù…Ø§ ØªØ®ØªØ§Ø± ØµÙˆØ±Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ©',
                    description3: 'Ø³ØªØ¸Ù‡Ø± Ù‡ÙƒØ°Ø§',
                    success: 'âœ… Ù…Ø¹Ø§ÙŠÙ†Ø© Ù†Ø§Ø¬Ø­Ø©!'
                },
                hi: {
                    title: 'ğŸ§ª à¤ªà¥‚à¤°à¥à¤µà¤¾à¤µà¤²à¥‹à¤•à¤¨ à¤ªà¤°à¥€à¤•à¥à¤·à¤£',
                    problem: 'à¤—à¤£à¤¿à¤¤ à¤¸à¤®à¤¸à¥à¤¯à¤¾ à¤‰à¤¦à¤¾à¤¹à¤°à¤£:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'à¤¯à¤¹ à¤ªà¥‚à¤°à¥à¤µà¤¾à¤µà¤²à¥‹à¤•à¤¨ à¤¸à¥à¤•à¥à¤°à¥€à¤¨ à¤¹à¥ˆ!',
                    description2: 'à¤œà¤¬ à¤†à¤ª à¤µà¤¾à¤¸à¥à¤¤à¤µà¤¿à¤• à¤›à¤µà¤¿ à¤šà¥à¤¨à¤¤à¥‡ à¤¹à¥ˆà¤‚',
                    description3: 'à¤¤à¥‹ à¤¯à¤¹ à¤‡à¤¸ à¤¤à¤°à¤¹ à¤¦à¤¿à¤–à¤¾à¤ˆ à¤¦à¥‡à¤—à¥€',
                    success: 'âœ… à¤ªà¥‚à¤°à¥à¤µà¤¾à¤µà¤²à¥‹à¤•à¤¨ à¤¸à¤«à¤²!'
                },
                th: {
                    title: 'ğŸ§ª à¸—à¸”à¸ªà¸­à¸šà¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡',
                    problem: 'à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸›à¸±à¸à¸«à¸²à¸„à¸“à¸´à¸•à¸¨à¸²à¸ªà¸•à¸£à¹Œ:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'à¸™à¸µà¹ˆà¸„à¸·à¸­à¸«à¸™à¹‰à¸²à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡!',
                    description2: 'à¹€à¸¡à¸·à¹ˆà¸­à¸„à¸¸à¸“à¹€à¸¥à¸·à¸­à¸à¸ à¸²à¸à¸ˆà¸£à¸´à¸‡',
                    description3: 'à¸¡à¸±à¸™à¸ˆà¸°à¹à¸ªà¸”à¸‡à¹à¸šà¸šà¸™à¸µà¹‰',
                    success: 'âœ… à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!'
                },
                vi: {
                    title: 'ğŸ§ª Kiá»ƒm Tra Xem TrÆ°á»›c',
                    problem: 'VÃ­ dá»¥ bÃ i toÃ¡n:',
                    equation: 'xÂ² + 5x + 6 = 0',
                    description1: 'ÄÃ¢y lÃ  mÃ n hÃ¬nh xem trÆ°á»›c!',
                    description2: 'Khi báº¡n chá»n hÃ¬nh áº£nh tháº­t',
                    description3: 'nÃ³ sáº½ hiá»ƒn thá»‹ nhÆ° tháº¿ nÃ y',
                    success: 'âœ… Xem TrÆ°á»›c ThÃ nh CÃ´ng!'
                }
            };
            
            const currentTexts = canvasTexts[currentLanguage] || canvasTexts['ko'];
            
            // ì œëª©
            ctx.fillStyle = '#333333';
            ctx.font = 'bold 20px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(currentTexts.title, 200, 40);
            
            // ë¬¸ì œ
            ctx.font = '16px Arial';
            ctx.fillText(currentTexts.problem, 200, 80);
            
            // ìˆ˜ì‹
            ctx.font = 'bold 24px Arial';
            ctx.fillStyle = '#667eea';
            ctx.fillText(currentTexts.equation, 200, 120);
            
            // ì„¤ëª…
            ctx.font = '14px Arial';
            ctx.fillStyle = '#666666';
            ctx.fillText(currentTexts.description1, 200, 160);
            ctx.fillText(currentTexts.description2, 200, 180);
            ctx.fillText(currentTexts.description3, 200, 200);
            
            // ì„±ê³µ í‘œì‹œ
            ctx.fillStyle = '#28a745';
            ctx.font = 'bold 16px Arial';
            ctx.fillText(currentTexts.success, 200, 240);
            
            // ì´ë¯¸ì§€ ì„¤ì •
            previewImage.src = canvas.toDataURL('image/png');
            previewImage.style.border = '3px solid #667eea';
            previewImage.style.borderRadius = '12px';
            previewImage.style.boxShadow = '0 8px 25px rgba(102, 126, 234, 0.3)';
            
            // í™”ë©´ ì „í™˜
            uploadSection.style.display = 'none';
            previewArea.style.display = 'block';
            
            // selectedFile ì‹œë®¬ë ˆì´ì…˜
            selectedFile = { name: 'test-math-problem.png', type: 'image/png' };
            
            console.log('âœ… í…ŒìŠ¤íŠ¸ ë¯¸ë¦¬ë³´ê¸° ì™„ë£Œ (ë‹¤êµ­ì–´)');
            showToast('ğŸ§ª ' + texts['test-button'] + ' ì™„ë£Œ!');
        }

        // ë¬¸ì œ í’€ì´ ì‹œì‘
        function solveProblem() {
            if (!selectedFile) {
                showToast('ë¨¼ì € ì´ë¯¸ì§€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”');
                return;
            }

            if (currentUsage >= maxFreeUsage) {
                showToast('ì¼ì¼ ë¬´ë£Œ ì‚¬ìš©ëŸ‰ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤');
                showPricing();
                return;
            }

            document.getElementById('preview-area').style.display = 'none';
            document.getElementById('loading').style.display = 'block';

            setTimeout(() => {
                showResult();
                updateUsage();
            }, 3000);
        }

        // ê²°ê³¼ í‘œì‹œ (ë‹¤êµ­ì–´ ì§€ì›)
        function showResult() {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('result-area').style.display = 'block';
            document.getElementById('action-buttons').style.display = 'flex';

            // í˜„ì¬ ì–¸ì–´ì˜ ë²ˆì—­ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
            const texts = translations[currentLanguage] || translations['ko'];
            
            // ì–¸ì–´ë³„ í’€ì´ ê³¼ì • ë°ì´í„°
            const solutionsByLanguage = {
                ko: [
                    { title: '1ë‹¨ê³„: ë¬¸ì œ ë¶„ì„', content: 'ì´ì°¨ë°©ì •ì‹ì„ ë¶„ì„í•©ë‹ˆë‹¤: xÂ² + 5x + 6 = 0' },
                    { title: '2ë‹¨ê³„: ì¸ìˆ˜ë¶„í•´', content: '(x + 2)(x + 3) = 0' },
                    { title: '3ë‹¨ê³„: í•´ êµ¬í•˜ê¸°', content: 'x = -2 ë˜ëŠ” x = -3' }
                ],
                en: [
                    { title: 'Step 1: Problem Analysis', content: 'Analyze the quadratic equation: xÂ² + 5x + 6 = 0' },
                    { title: 'Step 2: Factorization', content: '(x + 2)(x + 3) = 0' },
                    { title: 'Step 3: Find Solutions', content: 'x = -2 or x = -3' }
                ],
                es: [
                    { title: 'Paso 1: AnÃ¡lisis del Problema', content: 'Analizar la ecuaciÃ³n cuadrÃ¡tica: xÂ² + 5x + 6 = 0' },
                    { title: 'Paso 2: FactorizaciÃ³n', content: '(x + 2)(x + 3) = 0' },
                    { title: 'Paso 3: Encontrar Soluciones', content: 'x = -2 o x = -3' }
                ],
                fr: [
                    { title: 'Ã‰tape 1: Analyse du ProblÃ¨me', content: 'Analyser l\'Ã©quation quadratique: xÂ² + 5x + 6 = 0' },
                    { title: 'Ã‰tape 2: Factorisation', content: '(x + 2)(x + 3) = 0' },
                    { title: 'Ã‰tape 3: Trouver les Solutions', content: 'x = -2 ou x = -3' }
                ],
                de: [
                    { title: 'Schritt 1: Problemanalyse', content: 'Analysiere die quadratische Gleichung: xÂ² + 5x + 6 = 0' },
                    { title: 'Schritt 2: Faktorisierung', content: '(x + 2)(x + 3) = 0' },
                    { title: 'Schritt 3: LÃ¶sungen finden', content: 'x = -2 oder x = -3' }
                ],
                it: [
                    { title: 'Passo 1: Analisi del Problema', content: 'Analizzare l\'equazione quadratica: xÂ² + 5x + 6 = 0' },
                    { title: 'Passo 2: Fattorizzazione', content: '(x + 2)(x + 3) = 0' },
                    { title: 'Passo 3: Trovare le Soluzioni', content: 'x = -2 o x = -3' }
                ],
                pt: [
                    { title: 'Passo 1: AnÃ¡lise do Problema', content: 'Analisar a equaÃ§Ã£o quadrÃ¡tica: xÂ² + 5x + 6 = 0' },
                    { title: 'Passo 2: FatoraÃ§Ã£o', content: '(x + 2)(x + 3) = 0' },
                    { title: 'Passo 3: Encontrar SoluÃ§Ãµes', content: 'x = -2 ou x = -3' }
                ],
                ru: [
                    { title: 'Ğ¨Ğ°Ğ³ 1: ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹', content: 'ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµĞ¼ ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğ½Ğ¾Ğµ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ: xÂ² + 5x + 6 = 0' },
                    { title: 'Ğ¨Ğ°Ğ³ 2: Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ', content: '(x + 2)(x + 3) = 0' },
                    { title: 'Ğ¨Ğ°Ğ³ 3: ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ ĞµÑˆĞµĞ½Ğ¸Ñ', content: 'x = -2 Ğ¸Ğ»Ğ¸ x = -3' }
                ],
                ja: [
                    { title: 'ã‚¹ãƒ†ãƒƒãƒ—1: å•é¡Œåˆ†æ', content: 'äºŒæ¬¡æ–¹ç¨‹å¼ã‚’åˆ†æã—ã¾ã™: xÂ² + 5x + 6 = 0' },
                    { title: 'ã‚¹ãƒ†ãƒƒãƒ—2: å› æ•°åˆ†è§£', content: '(x + 2)(x + 3) = 0' },
                    { title: 'ã‚¹ãƒ†ãƒƒãƒ—3: è§£ã‚’æ±‚ã‚ã‚‹', content: 'x = -2 ã¾ãŸã¯ x = -3' }
                ],
                'zh-cn': [
                    { title: 'ç¬¬1æ­¥: é—®é¢˜åˆ†æ', content: 'åˆ†æäºŒæ¬¡æ–¹ç¨‹: xÂ² + 5x + 6 = 0' },
                    { title: 'ç¬¬2æ­¥: å› å¼åˆ†è§£', content: '(x + 2)(x + 3) = 0' },
                    { title: 'ç¬¬3æ­¥: æ±‚è§£', content: 'x = -2 æˆ– x = -3' }
                ],
                'zh-tw': [
                    { title: 'ç¬¬1æ­¥: å•é¡Œåˆ†æ', content: 'åˆ†æäºŒæ¬¡æ–¹ç¨‹: xÂ² + 5x + 6 = 0' },
                    { title: 'ç¬¬2æ­¥: å› å¼åˆ†è§£', content: '(x + 2)(x + 3) = 0' },
                    { title: 'ç¬¬3æ­¥: æ±‚è§£', content: 'x = -2 æˆ– x = -3' }
                ],
                ar: [
                    { title: 'Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø£Ù„Ø©', content: 'ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ©: xÂ² + 5x + 6 = 0' },
                    { title: 'Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¥Ù„Ù‰ Ø¹ÙˆØ§Ù…Ù„', content: '(x + 2)(x + 3) = 0' },
                    { title: 'Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ù„Ø­Ù„ÙˆÙ„', content: 'x = -2 Ø£Ùˆ x = -3' }
                ],
                hi: [
                    { title: 'à¤šà¤°à¤£ 1: à¤¸à¤®à¤¸à¥à¤¯à¤¾ à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£', content: 'à¤¦à¥à¤µà¤¿à¤˜à¤¾à¤¤ à¤¸à¤®à¥€à¤•à¤°à¤£ à¤•à¤¾ à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£ à¤•à¤°à¥‡à¤‚: xÂ² + 5x + 6 = 0' },
                    { title: 'à¤šà¤°à¤£ 2: à¤—à¥à¤£à¤¨à¤–à¤‚à¤¡', content: '(x + 2)(x + 3) = 0' },
                    { title: 'à¤šà¤°à¤£ 3: à¤¸à¤®à¤¾à¤§à¤¾à¤¨ à¤¢à¥‚à¤‚à¤¢à¥‡à¤‚', content: 'x = -2 à¤¯à¤¾ x = -3' }
                ],
                th: [
                    { title: 'à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™ 1: à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸›à¸±à¸à¸«à¸²', content: 'à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸ªà¸¡à¸à¸²à¸£à¸à¸³à¸¥à¸±à¸‡à¸ªà¸­à¸‡: xÂ² + 5x + 6 = 0' },
                    { title: 'à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™ 2: à¸à¸²à¸£à¹à¸¢à¸à¸•à¸±à¸§à¸›à¸£à¸°à¸à¸­à¸š', content: '(x + 2)(x + 3) = 0' },
                    { title: 'à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™ 3: à¸«à¸²à¸„à¸³à¸•à¸­à¸š', content: 'x = -2 à¸«à¸£à¸·à¸­ x = -3' }
                ],
                vi: [
                    { title: 'BÆ°á»›c 1: PhÃ¢n TÃ­ch BÃ i ToÃ¡n', content: 'PhÃ¢n tÃ­ch phÆ°Æ¡ng trÃ¬nh báº­c hai: xÂ² + 5x + 6 = 0' },
                    { title: 'BÆ°á»›c 2: PhÃ¢n TÃ­ch ThÃ nh NhÃ¢n Tá»­', content: '(x + 2)(x + 3) = 0' },
                    { title: 'BÆ°á»›c 3: TÃ¬m Nghiá»‡m', content: 'x = -2 hoáº·c x = -3' }
                ]
            };

            // í˜„ì¬ ì–¸ì–´ì— ë§ëŠ” í’€ì´ ê³¼ì • ì„ íƒ
            const solutionSteps = solutionsByLanguage[currentLanguage] || solutionsByLanguage['ko'];

            const container = document.getElementById('solution-steps');
            container.innerHTML = '';

            solutionSteps.forEach(step => {
                const div = document.createElement('div');
                div.className = 'solution-step';
                div.innerHTML = `<div class="step-title">${step.title}</div><div class="step-content">${step.content}</div>`;
                container.appendChild(div);
            });
            
            console.log(`âœ… ê²°ê³¼ í™”ë©´ì„ ${currentLanguage} ì–¸ì–´ë¡œ í‘œì‹œ`);
        }

        // ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸
        function updateUsage() {
            currentUsage++;
            updateUsageDisplay();
            if (currentUsage >= maxFreeUsage) {
                showToast('ì¼ì¼ ë¬´ë£Œ ì‚¬ìš©ëŸ‰ì´ ëª¨ë‘ ì†Œì§„ë˜ì—ˆìŠµë‹ˆë‹¤');
            }
        }

        function updateUsageDisplay() {
            const usageCount = document.getElementById('usage-count');
            if (usageCount) {
                usageCount.textContent = currentUsage;
            }
            const progressPercent = Math.min((currentUsage / maxFreeUsage) * 100, 100);
            document.getElementById('progress-fill').style.width = progressPercent + '%';
        }

        // ê¸°íƒ€ í•¨ìˆ˜ë“¤
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        function showPricing() {
            document.getElementById('pricing-modal').style.display = 'flex';
        }

        function closePricing() {
            document.getElementById('pricing-modal').style.display = 'none';
        }

        function shareResult() {
            showToast('ê²°ê³¼ë¥¼ ê³µìœ í–ˆìŠµë‹ˆë‹¤');
        }

        function newProblem() {
            selectedFile = null;
            document.getElementById('result-area').style.display = 'none';
            document.getElementById('action-buttons').style.display = 'none';
            document.getElementById('upload-section').style.display = 'block';
        }

        function resetApp() {
            selectedFile = null;
            document.getElementById('preview-area').style.display = 'none';
            document.getElementById('loading').style.display = 'none';
            document.getElementById('result-area').style.display = 'none';
            document.getElementById('action-buttons').style.display = 'none';
            document.getElementById('upload-section').style.display = 'block';
        }

        // ì™¸ë¶€ í´ë¦­ ì‹œ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
        document.addEventListener('click', function(event) {
            const languageSelector = document.querySelector('.language-selector');
            const languageDropdown = document.getElementById('languageDropdown');
            const userAvatar = document.querySelector('.user-avatar');
            const loginDropdown = document.getElementById('loginDropdown');
            
            if (languageSelector && !languageSelector.contains(event.target)) {
                languageDropdown.style.display = 'none';
            }
            
            if (userAvatar && loginDropdown && !userAvatar.contains(event.target) && !loginDropdown.contains(event.target)) {
                loginDropdown.style.display = 'none';
            }
        });

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.getElementById('pricing-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePricing();
            }
        });

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            console.log('AI ìˆ˜í•™ ë¬¸ì œ í’€ì´ ì•±ì´ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
            document.getElementById('upload-section').style.display = 'block';
            document.getElementById('preview-area').style.display = 'none';
            document.getElementById('loading').style.display = 'none';
            document.getElementById('result-area').style.display = 'none';
            document.getElementById('action-buttons').style.display = 'none';
        });
    </script>
</body>
</html>